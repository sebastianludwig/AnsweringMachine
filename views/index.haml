%h1 Add response

%form.form-horizontal{:method => "post", :action => "/add"}
  .control-group
    %label.control-label{:for => "path"} Request
    .controls
      %select#path{:name => "path"}
        - @requests.each do |request|
          %option{:value => "#{request}"}= request
          
  .control-group.tabbable.tabs-left
    %ul.nav.nav-tabs
      %li.active
        %a{:href => "#tab_respond", "data-toggle" => "tab"} Respond
      %li
        %a{:href => "#tab_forward", "data-toggle" => "tab"} Forward
    .tab-content
      .tab-pane.active#tab_respond
        .control-group
          %label.control-label{:for => "http_status"} Status
          .controls
            %input.hidden#http_status{:name => "http_status", :value => "200"}
            .btn-group{"data-toggle" => "buttons-radio"}
              %button.btn.btn-success.btn-small.active{:type => "button", :value => "200"} 200
              %button.btn.btn-danger.btn-small{:type => "button", :value => "400"} 400
              %button.btn.btn-inverse.btn-small{:type => "button", :value => "500"} 500
        .control-group
          %label.control-label{:for => "content_type"} Conent
          .controls
            %select#content_type{:name => "conent_type"}
              - %w(text/html application/json application/javascript).each do |type|
                %option{:value => "type"}= type
        .control-group
          %label.control-label{:for => "body"} Response
          .controls
            %textarea#body{:name => "body"}
      .tab-pane#tab_forward
        .control-group
          %label.control-label{:for => "forward"} Forward
          .controls
            %input#forward{:type => "text", :name => "forward", :placeholder => "URL"}
            
  .control-group
    %label.control-label{:for => "resend_counter"} Resend
    .controls
      %select#resend_counter{:name => "resend_counter"}
        %option{:value => "0"} No
        %option{:value => "-1"} Infinite
        %option{:value => "1"} 1 time
        - 2.upto(10) do |i|
          %option{:value => "1"}= "#{i} times"
  .control-group
    %label.control-label{:for => "delay"} Delay
    .controls
      .input-append
        %input.input-mini#delay{:name => "delay", :type => "number", :step => "0.5", :placeholder => "0"}
        %span.add-on sec
  .control-group
    .controls
      %input.btn.btn-primary{:type => "submit", :value => "Add"}

%h1 Responses

%ul.nav.nav-tabs
  %li.active
    %a{:href => "#tab_scheduled", "data-toggle" => "tab"} Scheduled
  %li
    %a{:href => "#tab_sent", "data-toggle" => "tab"} Sent
.tab-content
  .tab-pane.active#tab_scheduled
    %ul.unstyled.list-striped.list-hover
      = partial :request_row, :collection => @scheduled_responses
  .tab-pane#tab_sent
    %ul.unstyled.list-striped.list-hover
      = partial :request_row, :collection => @sent_responses
